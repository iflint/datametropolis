<head>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.3/dist/leaflet.css" />
	<link rel="stylesheet" type="text/css" href="/main.css">
</head>

<body>
	
	<div id="logo"><a href="/"><h1><span class="teal">Data</span>Metropolis</h1></a></div>

	<div id="mapid"></div>

	<div class="contentAlt">
		<div class="featured">Featured Map: Buildings</div>

		<h1 id="title">Neighborhoods</h1>

		<h2 class="boroughTitle">Manhattan</h2>

		<h2 class="boroughTitle">Bronx</h2>

		<!-- <div class="listLine firstListLine"><a href="/maps/101/assesstot">
			<h3>Mott Haven</h3>
			<div>Bronx District 1: Mott Haven, Port Morris, Melrose</div>
		</a></div>
		<div class="listLine"><a href="/maps/102/assesstot">
			<h3>Hunts Point</h3>
			<div>Bronx District 2: Hunts Point, Longwood, Morrisania</div>
		</a></div>
		<div class="listLine"><a href="/maps/102/assesstot">
			<h3>Morrisania</h3>
			<div>Manhattan District 3: Crotona Park, Claremont Village, Concourse Village, Woodstock, and Morrisania</div>
		</a></div>
		<div class="listLine"><a href="/maps/103/assesstot">
			<h3>Highbridge</h3>
			<div>Bronx District 4: 	Highbridge, Concourse, Mount Eden, and Concourse Village</div>
		</a></div>
		<div class="listLine"><a href="/maps/104/assesstot">
			<h3>Fordham</h3>
			<div>Manhattan District 5: Fordham, University Heights, Morris Heights, Bathgate, and Mount Hope</div>
		</a></div>
		<div class="listLine"><a href="/maps/105/assesstot">
			<h3>Belmont</h3>
			<div>Bronx District 6: Belmont, Bathgate, West Farms, East Tremont, and Bronx Park South</div>
		</a></div>
		<div class="listLine"><a href="/maps/107/assesstot">
			<h3>University Heights</h3>
			<div>Bronx District 7: Norwood, University Heights, Jerome Park, Bedford Park, Fordham, and Kingsbridge Heights
		</div>
		</a></div>
		<div class="listLine"><a href="/maps/108/assesstot">
			<h3>Kingsbridge</h3>
			<div>Bronx District 8: Fieldston, Kingsbridge, Kingsbridge Heights, Marble Hill, Riverdale, Spuyten Duyvil, Van Cortlandt Village
		</div>
		</a></div>
		<div class="listLine"><a href="/maps/109/assesstot">
			<h3>Unionport</h3>
			<div>Bronx District 9: Parkchester, Unionport, Soundview, Castle Hill, Bruckner, Harding Park, Bronx River and Clason Point</div>
		</a></div>
		<div class="listLine"><a href="/maps/110/assesstot">
			<h3>Throggs Neck</h3>
			<div>Bronx District 10: Co-op City, City Island, Spencer Estates, Throggs Neck, Country Club, Zerega, Westchester Square, Pelham Bay, Eastchester Bay, Schuylerville, Edgewater, Locust Point, and Silver Beach</div>
		</a></div>
		<div class="listLine"><a href="/maps/111/assesstot">
			<h3>Morris Park</h3>
			<div>Bronx District 11: Allerton, Bronx Park East, Eastchester Gardens, Indian Village, Morris Park, Olinville, Parkside, Pelham Gardens, Pelham Parkway, Van Nest, and Westchester Heights</div>
		</a></div>
		<div class="listLine"><a href="/maps/112/assesstot">
			<h3>Eastchester</h3>
			<div>Bronx District 12: Edenwald, Wakefield, Williamsbridge, Woodlawn, Fish Bay, Eastchester, Olinville, and Baychester</div>
		</a></div> -->

		<h2 class="boroughTitle">Brooklyn</h2>

		<h2 class="boroughTitle">Queens</h2>

		<h2 class="boroughTitle">Staten Island</h2>

		<!-- <div class="listLine firstListLine"><a href="/maps/501/assesstot">
			<h3>Financial District</h3>
			<div>Staten Island District 1: Arlington, Castleton Corners, Clifton, Concord, Elm Park, Fort Wadsworth, Graniteville, Grymes Hill, Livingston, Mariners Harbor, Meiers Corners, New Brighton, Port Ivory, Port Richmond, Randall Manor, Rosebank, St. George, Shore Acres, Silver Lake, Stapleton, Sunnyside, Tompkinsville, West Brighton, Westerleigh</div>
		</a></div>
		<div class="listLine"><a href="/maps/502/assesstot">
			<h3>Greenwich Village</h3>
			<div>Staten Island District 2: 	Arrochar, Bloomfield, Bulls Heads, Chelsea, Dongan Hills, Egbertville, Emerson Hill, Grant City, Grasmere, High Rock, Lighthouse Hill, Midland Beach, New Dorp, New Springville, Oakwood, Ocean Breeze, Old Town, Richmondtown, South Beach, Todt Hill, and Travis</div>
		</a></div>
		<div class="listLine"><a href="/maps/503/assesstot">
			<h3>Lower East Side</h3>
			<div>Staten Island District 3: 	Annadale, Arden Heights, Bay Terrace, Charleston, Eltingville, Great Kills, Greenridge, Huguenot, Pleasant Plains, Prince's Bay, Richmondtown, Richmond Valley, Rossville, Tottenville, and Woodrow</div>
		</a></div> -->
	</div>

	<div class="footer"> - Email - </div>

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>

	<script src='https://api.mapbox.com/mapbox-gl-js/v0.32.1/mapbox-gl.js'></script>
	<link href='https://api.mapbox.com/mapbox-gl-js/v0.32.1/mapbox-gl.css' rel='stylesheet' />

	<script src="/districts.js"></script>

	<script type="text/javascript">

		// bourough index is from 0 - 4
		function printDistricts (startCode, endCode, boroughIndex) {
			for (i = endCode; i >= startCode; i--) {
				$('.boroughTitle:eq(' + boroughIndex + ')').after('<div class="listLine"><a href="/maps/' + i + '/assesstot"><h3>' + districts[i].title + '</h3><div>' + districts[i].borough +' District ' + districts[i].district + ': ' + districts[i].neighborhoods + '</div></a></div>');
			}
		}

		printDistricts(101,112,0);
		printDistricts(201,212,1);
		printDistricts(301,318,2);
		printDistricts(401,414,3);
		printDistricts(501,503,4);

		mapboxgl.accessToken = 'pk.eyJ1Ijoid29sdmVyaWFuMjMiLCJhIjoic3lSYnR0YyJ9.gwoi3oZpvvBRgntfVkXi9g';
		var map = new mapboxgl.Map({
    		container: 'mapid',
    		style: 'mapbox://styles/mapbox/dark-v9',
    		center: [-73.977885, 40.7558],
    		zoom: 15,
    		pitch: 50
		});

		map.on('load', function () {

			// shows the 59 community districts

			// map.addLayer({
			// 	'id': 'districts',
			// 	'type': 'fill',
			// 	'source': {
			// 		'type': 'geojson',
			// 		'data': 'plutoCD.geojson'
			// 	},
			// 	'paint': {
			// 		'fill-color': 'rgba(0,0,0,0.2)',
			// 		'fill-outline-color': 'teal'
			// 	}
			// });


			// shows the buildings colored by height

			map.addLayer({
		        'id': '3d-buildings',
		        'source': 'composite',
		        'source-layer': 'building',
		        'filter': ['==', 'extrude', 'true'],
		        'type': 'fill-extrusion',
		        'minzoom': 12,
		        'paint': {
		            'fill-extrusion-color': {
						property: 'height',
						stops: [
		                    [0, 'rgb(115,34,135)'],
		                    [10, 'rgb(52,109,179)'],
		                    [25, 'rgb(1,179,236)'],
		                    [50, 'rgb(27,170,121)'],
		                    [100, 'rgb(25,164,43)'],
		                    [150, 'rgb(249,218,17)'],
		                    [200, 'rgb(240,160,16)'],
		                    [300, 'rgb(204,101,9)'],
		                    [400, 'rgb(145,30,21)'],
		                    [99999, 'transparent']
		                ]
					},
		            'fill-extrusion-height': {
		                'type': 'identity',
		                'property': 'height'
		            },
		            'fill-extrusion-base': {
		                'type': 'identity',
		                'property': 'min_height'
		            },
		            'fill-extrusion-opacity': .5
		        }
		    });
		});
		
	</script>

</body>